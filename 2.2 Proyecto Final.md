# Simulador de AdaptaciÃ³n Muscular con OptimizaciÃ³n MatemÃ¡tica

## Tabla de Contenidos
1. [Fundamentos MatemÃ¡ticos](#fundamentos-matemÃ¡ticos)
2. [ImplementaciÃ³n NumÃ©rica](#implementaciÃ³n-numÃ©rica)
3. [AnÃ¡lisis de Sensibilidad](#anÃ¡lisis-de-sensibilidad)
4. [Campo Vectorial](#campo-vectorial)
5. [OptimizaciÃ³n con Descenso de Gradiente](#optimizaciÃ³n-con-descenso-de-gradiente)
6. [Interfaz Interactiva](#interfaz-interactiva)
7. [Ejemplo de SimulaciÃ³n](#ejemplo-de-simulaciÃ³n)
8. [Limitaciones y Mejoras](#limitaciones-y-mejoras)

---

## Fundamentos MatemÃ¡ticos

### Sistema de Ecuaciones Diferenciales

#### Masa Muscular $(M(t)$:
$$
\frac{dM}{dt} = \underbrace{\alpha P E}_{\text{SÃ­ntesis}} - \underbrace{\beta \frac{Gl}{M + 1}}_{\text{CorrosiÃ³n}} + \underbrace{\gamma \tanh\left(\frac{C}{5}\right)}_{\text{HidrataciÃ³n}}

$$
- **TÃ©rminos**:
  - $\alpha P E$: Ganancia por proteÃ­na y entrenamiento $\alpha = 0.02$
  - $-\beta \frac{Gl}{M + 1}:$ PÃ©rdida por glucosa $\beta = 0.005$
  - $\gamma \tanh(C/5)$: HidrataciÃ³n por creatina $\gamma = 0.01$

#### Grasa Corporal (\(G(t)\)):
$$
\frac{dG}{dt} = \underbrace{\delta (Gl - 4E)}_{\text{Almacenaje}} - \underbrace{\epsilon E M}_{\text{Quema}}
$$

- **TÃ©rminos**:
  -$\delta (Gl - 4E)$: Almacenaje de grasa $\delta = 0.0015$
  - $\epsilon E M$: Quema por mÃºsculo $\epsilon = 0.003$

---

## ImplementaciÃ³n NumÃ©rica

### ResoluciÃ³n con ODEINT
```python
from scipy.integrate import odeint

def modelo(y, t, P, C, Gl, E):
    M, G = y
    dMdt = alpha * P * E - beta * (Gl/(M + 1)) + gamma * np.tanh(C/5)
    dGdt = delta * (Gl - 4*E) - epsilon * E * M
    return [dMdt, dGdt]

sol = odeint(modelo, y0, t, args=(P, C, Gl, E))
```

### VisualizaciÃ³n 3D
```python
fig = plt.figure(figsize=(10,6))
ax = fig.add_subplot(111, projection='3d')
ax.plot(t, sol[:, 0], sol[:, 1], 'b-o')
ax.set_xlabel('DÃ­as'); ax.set_ylabel('MÃºsculo (kg)'); ax.set_zlabel('Grasa (kg)')
```
---
## AnÃ¡lisis de Sensibilidad

### Derivadas Parciales

$$
âˆ‚âˆ‚P(dMdt)=0.02
Eâˆ‚Pâˆ‚â€‹(dtdMâ€‹)=0.02
Eâˆ‚âˆ‚E(dMdt)=0.02Pâˆ‚Eâˆ‚â€‹(dtdMâ€‹)=0.02Pâˆ‚âˆ‚Gl(dGdt)=0.0015âˆ‚Glâˆ‚â€‹(dtdGâ€‹)=0.0015
$$

---

## Campo Vectorial

### CÃ¡lculo de Tendencias

python

Copy

X, Y = np.meshgrid(np.linspace(60, 70, 10), np.linspace(15, 25, 10))
U = alpha*P*E - beta*(Gl/(X + 1)) + gamma*np.tanh(C/5)  # dM/dt
V = delta*(Gl - 4*E) - epsilon*E*X                     # dG/dt

plt.quiver(X, Y, U, V, scale=0.5, color='r')

---

## OptimizaciÃ³n con Descenso de Gradiente

### FunciÃ³n de Coste

Coste=âˆ’dMdt+Î»dGdtCoste=âˆ’dtdMâ€‹+Î»dtdGâ€‹

### Algoritmo

1. InicializarÂ P,Gl,EP,Gl,E
    
2. Calcular gradientes:
    
    âˆ‡P=âˆ’0.02E,âˆ‡Gl=0.005M+1+0.0015Î»,âˆ‡E=âˆ’0.02P+Î»(âˆ’0.006âˆ’0.003M)âˆ‡Pâ€‹=âˆ’0.02E,âˆ‡Glâ€‹=M+10.005â€‹+0.0015Î»,âˆ‡Eâ€‹=âˆ’0.02P+Î»(âˆ’0.006âˆ’0.003M)
3. Actualizar parÃ¡metros:
    
    Pnuevo=Pviejoâˆ’Î·âˆ‡PPnuevoâ€‹=Pviejoâ€‹âˆ’Î·âˆ‡Pâ€‹
4. Aplicar restricciones:Â Pâˆˆ[1,3]Pâˆˆ[1,3],Â Eâˆˆ[0,1]Eâˆˆ[0,1]
    

---

## Interfaz Interactiva

### Componentes

python

Copy

from matplotlib.widgets import Slider, Button

# Sliders
slider_P = Slider(ax=ax_P, label='ProteÃ­na', valmin=1.0, valmax=3.0, valinit=2.2)
slider_P.on_changed(update)

# BotÃ³n de Reset
reset_ax = plt.axes([0.8, 0.02, 0.1, 0.04])
reset_button = Button(reset_ax, 'Reset')

### Funcionamiento

- **ActualizaciÃ³n en Tiempo Real**: Movimiento de sliders â†’ Recalculo de EDOs â†’ GrÃ¡ficos actualizados
    
- **Layout Responsive**: GridSpec para organizar 3 grÃ¡ficos en una ventana
    

---

## Ejemplo de SimulaciÃ³n

### Condiciones Iniciales

|ParÃ¡metro|Valor|
|---|---|
|M0M0â€‹|65 kg|
|G0G0â€‹|20 kg|
|PP|2.2 g/kg|
|EE|0.7|

### Resultados a 30 DÃ­as

M=65+âˆ«030(0.0308âˆ’0.0227+0.0076)â€‰dtâ‰ˆ66.2Â kgM=65+âˆ«030â€‹(0.0308âˆ’0.0227+0.0076)dtâ‰ˆ66.2Â kgG=20+âˆ«030(0.4458âˆ’0.1365)â€‰dtâ‰ˆ29.3Â kgG=20+âˆ«030â€‹(0.4458âˆ’0.1365)dtâ‰ˆ29.3Â kg

---

## Limitaciones y Mejoras

### Limitaciones Actuales

1. No considera variaciones circadianas (sueÃ±o)
    
2. Modelo lineal simplificado para la quema de grasa
    

### Extensiones Futuras

1. **Variables Adicionales**:
    
    dSdt=EstreËŠsÂ (cortisol)âˆ’RecuperacioËŠndtdSâ€‹=EstreËŠsÂ (cortisol)âˆ’RecuperacioËŠn
2. **CalibraciÃ³n AutomÃ¡tica**:
    
    python
    
    Copy
    
    from sklearn.linear_model import LinearRegression
    model.fit(X_train, y_train)  # Datos reales de usuarios
    




**Nota**: Ejecutar conÂ `python -i Muscle2.py`Â para modo interactivo.  
**Dependencias**:Â `numpy`,Â `scipy`,Â `matplotlib>=3.5.0`



1. ExplicaciÃ³n MatemÃ¡tica Simplificada (Agus)
ğŸ“ Para modelar este comportamiento usamos dos ecuaciones diferenciales:

ğŸ“Œ La primera representa el cambio en la masa muscular:
$$
ğ‘‘
ğ‘€
ğ‘‘
ğ‘¡
=
ğ›¼
ğ‘ƒ
ğ¸
âˆ’
ğ›½
ğº
ğ‘™
ğ‘€
+
1
+
ğ›¾
tanh
â¡
(
ğ¶
5
)
dt
dM
â€‹
 =Î±PEâˆ’Î² 
M+1
Gl
â€‹
 +Î³tanh( 
5
C
â€‹
 )$$
- **ğ‘‘ğ‘€/ğ‘‘ğ‘¡**: Representa la tasa de cambio de la masa muscular (M) con respecto al tiempo (t). En otras palabras, cuÃ¡nto cambia tu masa muscular por unidad de tiempo.
- **ğ›¼ğ‘ƒğ¸**: Este tÃ©rmino simula el efecto de la proteÃ­na (P) y el ejercicio (E) en el crecimiento muscular.
    - ğ›¼ es un factor que determina la eficiencia con la que la proteÃ­na y el ejercicio se convierten en mÃºsculo.
    - A mayor proteÃ­na y ejercicio, mayor crecimiento muscular (en teorÃ­a).
- **ğ›½(ğºğ‘™/ğ‘€+1)**: Este tÃ©rmino representa la pÃ©rdida de masa muscular debido a la glucosa (Gl).
    - ğ›½ es un factor que determina cuÃ¡nto afecta la glucosa a la pÃ©rdida muscular.
    - A mayor glucosa y menor masa muscular, mayor pÃ©rdida muscular.
- **ğ›¾ tanh(ğ¶/5)**: Este tÃ©rmino Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸Ñ€ÑƒĞµÑ‚ el efecto de la creatina (C) en el crecimiento muscular.
    - ğ›¾ es un factor que determina cuÃ¡nto contribuye la creatina al crecimiento muscular.
    - La funciÃ³n tanh (tangente hiperbÃ³lica) representa que el efecto de la creatina tiene un lÃ­mite y se estabiliza con el tiempo.

ğŸ“Œ Y la segunda representa el cambio en la grasa corporal:
$$
ğ‘‘
ğº
ğ‘‘
ğ‘¡
=
ğ›¿
(
ğº
ğ‘™
âˆ’
4
ğ¸
)
âˆ’
ğœ€
ğ¸
ğ‘€
dt
dG
â€‹
 =Î´(Glâˆ’4E)âˆ’ÎµEM$$
- **ğ‘‘ğº/ğ‘‘ğ‘¡**: Representa la tasa de cambio de la grasa corporal (G) con respecto al tiempo (t).
- **ğ›¿(ğºğ‘™âˆ’4ğ¸)**: Este tÃ©rmino Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸Ñ€ÑƒĞµÑ‚ el efecto de la glucosa (Gl) y el ejercicio (E) en la acumulaciÃ³n de grasa.
    - ğ›¿ es un factor que determina cuÃ¡nto afecta la glucosa y el ejercicio a la acumulaciÃ³n de grasa.
    - A mayor glucosa y menor ejercicio, mayor acumulaciÃ³n de grasa.
- **ğœ€ğ¸ğ‘€**: Este tÃ©rmino representa la quema de grasa debido al ejercicio (E) y la masa muscular (M).
    - ğœ€ es un factor que determina cuÃ¡nta grasa se quema durante el ejercicio.
    - A mayor ejercicio y masa muscular, mayor quema de grasa.
ğŸ’¡ En tÃ©rminos simples:

Si comes mÃ¡s proteÃ­nas y entrenas, aumentas la masa muscular.
Si consumes mucha glucosa sin entrenar, acumulas mÃ¡s grasa.
La creatina ayuda al crecimiento muscular, pero su efecto no es infinito, sino que se estabiliza.
ğŸ‘¨â€ğŸ”¬ Gracias a estas ecuaciones podemos hacer predicciones y analizar cÃ³mo ciertos hÃ¡bitos afectan la composiciÃ³n corporal a lo largo del tiempo.

ğŸ“Š 5. Resultados y OptimizaciÃ³n (Agus)
ğŸ” Usamos optimizaciÃ³n numÃ©rica para encontrar combinaciones ideales de dieta y ejercicio. Aplicamos tÃ©cnicas de descenso de gradiente para ajustar valores y minimizar la grasa mientras maximizamos el mÃºsculo.

ğŸ“ˆ Algunas de nuestras conclusiones fueron:
âœ… El entrenamiento regular y un buen consumo de proteÃ­nas favorecen el crecimiento muscular.
âœ… Un exceso de glucosa sin actividad fÃ­sica puede hacer que el cuerpo acumule mÃ¡s grasa.
âœ… La creatina tiene un efecto positivo, pero no infinito.
âœ… Se pueden usar estos modelos para diseÃ±ar estrategias personalizadas de nutriciÃ³n y ejercicio.

ğŸ¯ 6. ConclusiÃ³n y Cierre (Agus)
ğŸ—£ En conclusiÃ³n, este proyecto nos permitiÃ³ aplicar matemÃ¡ticas avanzadas y programaciÃ³n para entender mejor la relaciÃ³n entre nutriciÃ³n, ejercicio y composiciÃ³n corporal.

ğŸ¥ Esta simulaciÃ³n puede ser Ãºtil para entrenadores, nutricionistas o cualquier persona interesada en mejorar su salud con datos basados en ciencia.

ğŸ™Œ Esperamos que les haya gustado nuestro proyecto. Â¡Gracias por su atenciÃ³n!